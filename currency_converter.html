<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter</title>
</head>
<body>
    <label>From Currency:<select id="from_currency"></select></label>
    <label>To Currency:<select id="to_currency"></select></label>
    <label>Enter Amount:<input type="number" value="0" id="amount"/></label>
    <div><span id="d_currency">INR</span>:<span id="d_amount">0</span></div>
</body>
<script>
    let from_select_box=document.getElementById("from_currency")
    let select_box=document.getElementById("to_currency")
    let amount=document.getElementById("amount")
    let d_amount=document.getElementById("d_amount")
    let d_currency=document.getElementById("d_currency")
    api=async ()=>{
        url="https://v6.exchangerate-api.com/v6/118844c911c266c754e05adc/latest/INR"
        data=await fetch(url).then((res)=>res.json())
        console.log(data['conversion_rates'])
        for(country in data['conversion_rates']){
            let option=document.createElement("option")
            option.value=data['conversion_rates'][country]
            option.text=country
            let from_option=document.createElement("option")
            from_option.value=data['conversion_rates'][country]
            from_option.text=country
            select_box.appendChild(option)
            from_select_box.appendChild(from_option)
        }
    }
    api()
    calc=()=>{
        d_amount.innerHTML=parseFloat(select_box.value*amount.value/from_select_box.value)
        d_currency.innerHTML=select_box.options[select_box.selectedIndex].text
    }
    select_box.addEventListener("change",()=>calc())
    from_select_box.addEventListener("change",()=>calc())
    amount.addEventListener("keyup",()=>calc())
</script>
</html>
